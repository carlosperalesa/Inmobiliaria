Log generado el 2024-05-22 12:42:36


******************************arriendos/templates/index.html******************************

{% load static %}

<!DOCTYPE html>
<html lang="es-cl">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <!-- bootstrap -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" rel="stylesheet" />
    <!-- css -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet" />
    <!-- fontawesome -->
    <script src="https://kit.fontawesome.com/334a740400.js" crossorigin="anonymous"></script>
    <script src="{% static 'js/script_comunas.js' %}"></script>
    <script src="{% static 'js/modal_delete.js' %}"></script>
    <title>
        {%block title%}{%endblock title%}
    </title>

</head>

<!-- Modal -->
<div class="modal fade" id="eliminarModal" tabindex="-1" aria-labelledby="eliminarModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="eliminarModalLabel">Confirmar eliminación</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ¿Está seguro que desea eliminar este elemento? Esta acción no se puede deshacer.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Cancelar</button>
        <form method="post" action="{% url 'eliminar_usuario' %}" id="eliminarUsuarioForm">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger" id="btnConfirmarEliminar">Aceptar</button>
        </form>
      </div>
    </div>
  </div>
</div>


<body style="background-color: #D9FFC0">

{% include 'header.html' %}


    {% block content %}
    {% endblock %}



{% include 'footer.html' %}


</body>
<script crossorigin="anonymous" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</html>

******************************arriendos/templates/welcome.html******************************

{% extends 'index.html' %}
{% load static %}
{% block title %}Bienvenido{% endblock %}

{% block content %}

{% comment %} seccion carrusel {% endcomment %}
<div id="carrusel" class="carousel slide" data-bs-ride="carousel"> <!-- Define a fixed height -->
    <div class="carousel-inner" style="height: 100vh"> <!-- Ensure the inner container uses full height -->
        <div class="carousel-item active">
            <img src={%static 'img/carrusel (1).jpg'%} class="d-block w-100" alt="cr1">
        </div>
        <div class="carousel-item">
            <img src={%static 'img/carrusel (2).png'%} class="d-block w-100" alt="cr2">
        </div>
        <div class="carousel-item">
            <img src={%static 'img/carrusel (3).png'%} class="d-block w-100" alt="cr3">
        </div>
        <div class="carousel-item">
            <img src={%static 'img/carrusel (1).png'%} class="d-block w-100" alt="cr4">
        </div>
    </div>
    <button id="prev" class="carousel-control-prev" type="button" data-bs-target="#carrusel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button id="next" class="carousel-control-next" type="button" data-bs-target="#carrusel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

{% comment %} seccion que nos mueve {% endcomment %}

<div class="mt-2" style="padding-left: 50px">
    <h1 class="mt-5">¿Qué nos mueve?</h1>
    <div class="row mt-5">
        <div class="col-6">
            <h2>Ser confiables</h2>
            <h6>Somos personas honestas que a pesar de las dificultades hacemos cumplir nuestro compromiso. Sobresalimos por nuestro profesionalismo con colaboradores resilientes capaces de adaptarse flexiblemente a situaciones adversas. La calidad de nuestro trabajo y de todo lo que realizamos es nuestro propósito.</h6>
        </div>
        <div class="col-4">
            <h2>Ser innovadores</h2>
            <h6>Nos caracterizamos por ser creativos y proactivos, siempre buscamos la manera de mejorar y de hacer las cosas de manera diferente. Nos adaptamos a los cambios y a las nuevas tecnologías para ofrecer un servicio de calidad y eficiente.</h6>
        </div>
        <div class="col-4 mb-5 mt-5">
            <h2>Ser responsables</h2>
            <h6>Nos comprometemos con nuestros clientes y con nuestro trabajo, cumplimos con lo que prometemos y nos esforzamos por hacerlo de la mejor manera. Nos preocupamos por el bienestar de nuestros colaboradores y de la sociedad, por eso siempre buscamos la manera de contribuir con el desarrollo sostenible y el cuidado del medio ambiente.</h6>
        </div>
    </div>
</div>

{% comment %} seccion destacados {% endcomment %}
<div class="container mt-5">
    <h2>Propiedades Destacadas</h2>
    <div class="row">
        {% for inmueble in inmuebles_destacados %}
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                {% if inmueble.imagen %}
                    <img src="{{ inmueble.imagen.url }}" class="card-img-top" alt="{{ inmueble.descripcion }}" style="max-height: 150px; object-fit: cover;">
                {% else %}
                    <img src="{% static 'img/home_default.jpg' %}" class="card-img-top" alt="{{ inmueble.descripcion }}" style="max-height: 150px; object-fit: cover;">
                {% endif %}
                <div class="card-body">
                    <h5 class="card-title">{{ inmueble.descripcion }}</h5>
                    <p class="card-text"><small class="text-muted">Regi\u00f3n: {{ inmueble.comuna.region.nombre }}</small></p>
                    <p class="card-text"><small class="text-muted">Comuna: {{ inmueble.comuna.nombre }}</small></p>
                    <p class="card-text"><small class="text-muted">Precio: ${{ inmueble.precio_mensual_arriendo }}</small></p>
                    <a href="{% url 'ver_propiedad' inmuebles_id=inmueble.id %}" class="btn btn-success btn-sm">Ver Propiedad</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var myCarousel = new bootstrap.Carousel(document.getElementById('carrusel'), {
            interval: 1800 // Cambia este valor para ajustar la velocidad del carrusel (en milisegundos)
        });
    });
</script>
{% endblock %}

******************************arriendos/templates/contacto.html******************************

{% extends 'index.html' %}
{% load widget_tweaks %}

{% block title %}Contacto{% endblock %}

{% block content %}
<div style="display: flex; flex-direction: column; align-items: center; min-height: 80vh;">
    <div style="width: 50%">
        {% if form_submitted %}
            {% if form.is_valid %}
                <div class="alert alert-success mt-3" role="alert">
                    Gracias por contactarnos, nos pondremos en contacto contigo en breve.
                </div>
            {% endif %}
        {% elif form.errors %}
            <div class="alert alert-danger mt-3" role="alert">
                <ul>
                    {% for field, errors in form.errors.items %}
                        {% for error in errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
    </div>

    <form id="contactForm" action="{% url 'contacto' %}" method="POST" class="card mb-3 p-3 mt-3" style="width: 50%">
        {% csrf_token %}
        <h5 class="card-title">Contacto</h5>
        <div class="mb-3">
            {% for field in form %}
                <div class="row mb-3">
                    <label for="{{ field.id_for_label }}" class="col-sm-2 col-form-label">{{ field.label }}</label>
                    <div class="col-sm-10">
                        {{ field|add_class:"form-control" }}
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="d-flex justify-content-end">
            <button type="submit" class="btn btn-success me-2">Enviar</button>
            {% comment %} <button type="reset" value="Reset" class="btn btn-outline-success">Limpiar</button> {% endcomment %}
        </div>
    </form>
</div>

{% endblock %}

******************************arriendos/templates/header.html******************************

{% load static %}

<nav class="navbar navbar-expand-md" style="background-color: black; color: white;">
    <div class="container-fluid text-white" style="background-color: black; color: white;">
        <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link text-white" href="{% url 'index' %}">Inicio</a>
                </li>
                {% if request.user.is_authenticated %}
                    {% if request.user.tipo_usuario == 'arrendador' %}
                        <li class="nav-item">
                            <a class="nav-link text-white" href="{% url 'crear_inmuebles' %}">Crear Inmueble</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="{% url 'ver_inmuebles' %}">Ver Propiedades</a>
                        </li>
                    {% endif %}
                    {% if request.user.tipo_usuario == 'arrendatario' %}
                        <li class="nav-item">
                            <a class="nav-link text-white" href="{% url 'ver_inmuebles' %}">Ver Propiedades</a>
                        </li>
                    {% endif %}
                {% else %}
                <!-- Opciones para usuarios no autenticados -->
                {% endif %}
                <li class="nav-item">
                    <a class="nav-link text-white" href="{% url 'contacto' %}">Contacto</a>
                </li>
            </ul>
        </div>
        <div class="d-flex">
            <span>
                {% if request.user.is_authenticated %}
                    {{user.primer_nombre | title}} ({{ user.email }}) 
                    <a href="{% url "edit_profile" %}">
                        <button type="button" class="btn text-white">Editar</button></a>
                    <a href="{% url "logout" %}">
                        <button type="button" class="btn text-white">Salir</button></a>
                {% else %} 
                    <a href="{% url "login" %}">
                        <button type="button" class="btn text-white">Ingresar</button></a>
                    <a href="{% url "register" %}">
                        <button type="button" class="btn text-white">Registrate</button></a>
                {% endif %}  
            </span>
        </div>
    </div>
</nav>

******************************arriendos/templates/footer.html******************************

{% load static %}
<div class="footer mt-5 text-center bg-black text-white">
    <div class="container">
        <div class="row">
            <div class="col">
                Creado por Carlos Perales © 2024 DesafioLatam. Todos los derechos reservados.
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="d-flex justify-content-center align-items-center mt-2">
                    <a href="https://www.facebook.com/" target="_blank" class="text-white mx-2">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://twitter.com/" target="_blank" class="text-white mx-2">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://www.instagram.com/" target="_blank" class="text-white mx-2">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/" target="_blank" class="text-white mx-2">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a class="nav-link text-white p-0 mx-2" href="#top">
                        <i class="fas fa-arrow-up"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

******************************arriendos/templates/registration/login.html******************************

{% extends 'index.html' %}
{% load crispy_forms_tags %}

{% block title %}Bienvenido{% endblock %}

{% block content %}
<div style="display: flex; flex-direction: column; align-items: center; min-height: 80vh;">
    <div class="card mb-3 p-3 mt-3" style="width: 50%">
        <div class="card-body">
            <h5 class="card-title">Iniciar sesión</h5>
            <form action="{% url 'login' %}" method="POST">
                {% csrf_token %}
                {{ form|crispy }}
                <div class="d-flex justify-content-between m-3">
                    <label for="ShowPass">Mostrar contraseña</label>
                    <input class="form-check-input" type="checkbox" id="ShowPass" onclick="myFunction()">
                </div>
                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-success me-2">Iniciar sesión</button>
                </div>
            </form>
            <script>
                function myFunction() {
                    var x = document.getElementById("id_password");
                    if (x.type === "password") {
                        x.type = "text";
                    } else {
                        x.type = "password";
                    }
                }
            </script>
        </div>
    </div>
</div>


{% endblock %}

******************************arriendos/templates/registration/edit.html******************************

{% extends 'index.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}Editar Perfil{% endblock %}

{% block content %}

<div style="display: flex; flex-direction: column; align-items: center; min-height: 80vh;">
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} mt-3" role="alert" style="width: 50%">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    <div class="card mb-3 p-3 mt-3" style="width: 50%">
        <div class="card-body">
            <h5 class="card-title">Editar Perfil</h5>
            <form method="post" action="{% url 'edit_profile' %}">
                {% csrf_token %}
                {{ form|crispy }}
                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-success me-2">Guardar Cambios</button>
                </div>
                {% if form.errors %}
                <div class="alert alert-danger mt-3" role="alert">
                    {{ form.non_field_errors }}
                </div>
                {% endif %}
            </form>
            <div style="display: flex; justify-content: flex-end; margin-top: 10px;"> <!-- Envuelve ambos botones y los alinea a la derecha -->
                <form method="post" action="{% url 'eliminar_usuario' %}" style="margin-right: 10px;">
                    {% csrf_token %}
                    <button type="button" class="btn btn-danger btnEliminar" data-bs-toggle="modal" data-bs-target="#eliminarModal">
                        Eliminar Perfil 
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>


<script src="{% static 'js/modal_delete.js' %}"></script>
{% endblock %}


******************************arriendos/templates/registration/register.html******************************

{% extends 'index.html' %}
{% load crispy_forms_tags %}

{% block title %}Registro{% endblock %}

{% block content %}

{% if messages %}
    <script>
        {% for message in messages %}
            alert('{{ message }}');
        {% endfor %}
    </script>
{% endif %}

<div style="display: flex; flex-direction: column; align-items: center; min-height: 80vh;">
    <div class="card mb-3 p-3 mt-3" style="width: 50%">
        <div class="card-body">
            <h5 class="card-title">Registro</h5>
            <form method="POST">
                {% csrf_token %}
                {{ form|crispy }}
                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-success">Registrarse</button>
                </div>            
            </form>
        </div>
    </div>
</div>

{% endblock %}

{% comment %} 

{% endcomment %}

{% comment %} 
<h2>Registro</h2>
<form method="POST">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit">Registrarse</button>
</form>
{% endcomment %} 
******************************arriendos/templates/inmuebles/crear_inmuebles.html******************************

{% extends 'index.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Crear Inmueble{% endblock %}

{% block content %}
<div style="display: flex; flex-direction: column; align-items: center; min-height: 80vh;">
    <div class="card mb-3 p-3 mt-3" style="width: 50%">
        <div class="card-body">
            <h5 class="card-title">Crear un nuevo inmueble</h5>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {% for field in form %}
                    {{ field|as_crispy_field }}
                {% endfor %}

                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-success">Crear</button>
                    <button type="reset" class="btn btn-outline-success ms-2">Limpiar</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $('#id_region').change(function() {
            var url = "{% url 'comunas_por_region' 0 %}".slice(0, -2) + $(this).val() + '/';
            $.ajax({
                url: url,
                success: function(data) {
                    var $comuna = $('#id_comuna');
                    $comuna.find('option').remove();
                    $.each(data, function(key, value) {
                        $comuna.append('<option value="' + value.id + '">' + value.nombre + '</option>');
                    });
                }
            });
        });
    });
</script>
<style>
    textarea {
        height: 5em;  /* Ajusta el alto del cuadro de mensaje */
    }
</style>
{% endblock %}
******************************arriendos/templates/inmuebles/editar_inmuebles.html******************************

{% extends 'index.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Editar Inmueble{% endblock %}

{% block content %}
<div style="display: flex; flex-direction: column; align-items: center; min-height: 80vh;">
    <div class="card mb-3 p-3 mt-3" style="width: 50%">
        <div class="card-body">
            <h5 class="card-title">Editar Inmueble</h5>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form|crispy }}
                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-success">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $('#id_region').change(function() {
            var url = "{% url 'comunas_por_region' 0 %}".slice(0, -2) + $(this).val() + '/';
            $.ajax({
                url: url,
                success: function(data) {
                    var $comuna = $('#id_comuna');
                    $comuna.find('option').remove();
                    $.each(data, function(key, value) {
                        $comuna.append('<option value="' + value.id + '">' + value.nombre + '</option>');
                    });
                }
            });
        });
    });
</script>
<style>
    textarea {
        height: 5em;  /* Ajusta el alto del cuadro de mensaje */
    }
</style>
<script src="{% static 'js/modal_delete.js' %}"></script>
{% endblock %}
******************************arriendos/templates/inmuebles/ver_inmuebles.html******************************

{% extends 'index.html' %}
{% load static %}

{% block title %}Ver Inmuebles{% endblock %}

{% block content %}
<style>
.card{
    border-radius: 4px;
    background: #fff;
    box-shadow: 0 6px 10px rgba(0,0,0,.08), 0 0 6px rgba(0,0,0,.05);
    transition: .3s transform cubic-bezier(.155,1.105,.295,1.12),.3s box-shadow,.3s -webkit-transform cubic-bezier(.155,1.105,.295,1.12);
    cursor: pointer;
}

.card:hover{
     transform: scale(1.05);
  box-shadow: 0 10px 20px rgba(0,0,0,.12), 0 4px 8px rgba(0,0,0,.06);

.page-link {
    color: #fff; /* Color del texto */
    background-color: #28a745; /* Color de fondo verde "success" */
    border-color: #28a745; /* Color del borde */
}

.page-item.active .page-link {
    background-color: #218838; /* Color de fondo verde más oscuro para el botón activo */
    border-color: #1e7e34; /* Color del borde */
}
}</style>

{% if messages %}
{% for message in messages %}
<div class="container mt-4">
    <div class="alert alert-{{ message.tags }} mt-3" role="alert">
        {{ message }}
    </div>
</div>
{% endfor %}
{% endif %}

{% if user.tipo_usuario == 'arrendatario' %}
<div class="container mt-4">
    <form method="GET" action="{% url 'ver_inmuebles' %}" class="mb-3">
        <div class="row">
            <div class="col-md-4">
                <select name="region" id="id_region" class="form-select">
                    <option value="">Selecciona una región</option>
                    {% for region in regiones %}
                    <option value="{{ region.id }}" {% if request.GET.region == region.id|stringformat:"s" %}selected{% endif %}>{{ region.nombre }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-4">
                <select name="comuna" id="id_comuna" class="form-select">
                    <option value="">Selecciona una comuna</option>
                    {% for comuna in comunas %}
                    <option value="{{ comuna.id }}" {% if request.GET.comuna == comuna.id|stringformat:"s" %}selected{% endif %}>{{ comuna.nombre }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-4 d-flex justify-content-end">
                <button type="submit" class="btn btn-success me-2">Filtrar</button>
                <a href="{% url 'ver_inmuebles' %}" class="btn btn-outline-success">Limpiar Filtros</a>
            </div>
        </div>
    </form>
</div>
{% endif %}
<div class="container" style="min-height: 80vh;">
    <div class="row" id="inmueblesContainer">
        {% for inmueble in inmuebles %}
        <div class="col-md-3 mb-4 mt-3" data-inmueble-id="{{ inmueble.id }}" data-comuna-id="{{ inmueble.comuna.id }}">
            <div class="card h-100">
                {% if inmueble.imagen %}
                <img src="{{ inmueble.imagen.url }}" class="card-img-top" alt="{{ inmueble.descripcion }}" style="max-height: 150px; object-fit: cover;">
                {% else %}
                <img src="{% static 'img/home_default.jpg' %}" class="card-img-top" alt="{{ inmueble.descripcion }}" style="max-height: 150px; object-fit: cover;">
                {% endif %}
                <div class="card-body">
                    <h6 class="card-title">{{ inmueble.descripcion }}</h6>
                    <p class="card-text"><small class="text-muted">Región: {{ inmueble.comuna.region.nombre }}</small></p>
                    <p class="card-text"><small class="text-muted">Comuna: {{ inmueble.comuna.nombre }}</small></p>
                    <p class="card-text"><small class="text-muted">Precio: ${{ inmueble.precio_mensual_arriendo }}</small></p>
                </div>
                <div class="card-footer d-flex justify-content-end">
                    {% if request.user.is_authenticated %}
                        {% if request.user.tipo_usuario == 'arrendador' %}
                            <div class="btn-group" role="group" aria-label="Acciones">
                                <a href="{% url 'editar_inmuebles' inmuebles_id=inmueble.id %}" class="btn btn-success btn-sm mr-3">Editar</a>
                                <form method="post" action="{% url 'eliminar_inmuebles' inmuebles_id=inmueble.id %}">  
                                    {% csrf_token %}
                                    <button type="button" class="btn btn-danger btn-sm btnEliminar" data-inmueble-id="{{ inmueble.id }}">Eliminar</button>                            </form>
                            </div>
                        {% else %}
                            <form>
                                <a href="{% url 'ver_propiedad' inmuebles_id=inmueble.id %}" class="btn btn-success btn-sm">Ver Propiedad</a>
                            </form>
                        {% endif %}
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div> 
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script name="paginador">
    $(document).ready(function() {
        // Cantidad de tarjetas por página
        var tarjetasPorPagina = 12;
        // Total de tarjetas
        var totalTarjetas = $('#inmueblesContainer .col-md-3').length;
        // Número de páginas
        var numeroPaginas = Math.ceil(totalTarjetas / tarjetasPorPagina);

        // Función para mostrar las tarjetas de una página específica
        function mostrarTarjetas(pagina) {
            var inicio = (pagina - 1) * tarjetasPorPagina;
            var fin = inicio + tarjetasPorPagina;
            $('#inmueblesContainer .col-md-3').hide().slice(inicio, fin).show();
        }

        // Crear la paginación
        var paginacion = $('<nav aria-label="Page navigation example"><ul class="pagination justify-content-end"></ul></nav>');
        var listaPaginas = paginacion.find('ul');

        for (var i = 1; i <= numeroPaginas; i++) {
            var enlacePagina = $('<li class="page-item"><a class="page-link" href="#">' + i + '</a></li>');
            enlacePagina.click(function() {
                var pagina = parseInt($(this).text());
                mostrarTarjetas(pagina);
                listaPaginas.find('.active').removeClass('active');
                $(this).addClass('active');
            });
            listaPaginas.append(enlacePagina);
        }

        // Mostrar la primera página al cargar
        mostrarTarjetas(1);
        listaPaginas.find('li:first-child').addClass('active');

        // Agregar la paginación al DOM
        $('#inmueblesContainer').after(paginacion);
    });
</script>
<script type="text/javascript">
    $(document).ready(function() {
        $('#id_region').change(function() {
            var url = "{% url 'comunas_por_region' 0 %}".slice(0, -2) + $(this).val() + '/';
            $.ajax({
                url: url,
                success: function(data) {
                    var $comuna = $('#id_comuna');
                    $comuna.find('option').remove();
                    $.each(data, function(key, value) {
                        $comuna.append('<option value="' + value.id + '">' + value.nombre + '</option>');
                    });
                }
            });
        });
    });
</script>
<script src="{% static 'js/modal_delete.js' %}"></script>
{% endblock %}
******************************arriendos/templates/inmuebles/ver_propiedad.html******************************

{% extends 'index.html' %}
{% load static %}

{% block title %}Detalles de la Propiedad{% endblock %}

{% block content %}
<div class="container" style="display: flex; flex-direction: column; align-items: center; min-height: 80vh;">
    <div class="card mb-3 mt-3">
        <div class="row g-0">
            <div class="col-md-6">
                {% if inmueble.imagen %}
                <img src="{{ inmueble.imagen.url }}" class="img-fluid rounded-start w-100 h-100" alt="{{ inmueble.nombre }}">
                {% else %}
                <img src="{% static 'img/home_default.jpg' %}" class="img-fluid rounded-start" alt="{{ inmueble.nombre }}">
                {% endif %}
            </div>
            <div class="col-md-6">
                <div class="card-body">
                    <h5 class="card-title">Descripción: {{ inmueble.descripcion }}</h5>
                    <p class="card-text">Región: {{ inmueble.comuna.region.nombre }}</p>
                    <p class="card-text">Comuna: {{ inmueble.comuna.nombre }}</p>
                    <p class="card-text">Metros² Construidos: {{ inmueble.m2_construidos }}</p>
                    <p class="card-text">Metros² Totales: {{ inmueble.m2_totales }}</p>
                    <p class="card-text">Cantidad de Estacionamientos: {{ inmueble.cantidad_estacionamientos }}</p>
                    <p class="card-text">Cantidad de Habitaciones: {{ inmueble.cantidad_habitaciones }}</p>
                    <p class="card-text">Cantidad de Baños: {{ inmueble.cantidad_banos }}</p>
                    <p class="card-text">Precio Mensual Arriendo: ${{ inmueble.precio_mensual_arriendo }}</p>
                    <div class="d-flex justify-content-end">
                    <a href="{% url 'contacto' %}?name={{ request.user.primer_nombre }}&email={{ request.user.email }}&subject=Solicitud de arriendo de la propiedad {{ inmueble.id }}&message=Hola! me interesa la propiedad {{ inmueble.id }} llamame al {{ request.user.telefono_personal }}" class="btn btn-success me-2">Solicitar Arriendo</a>                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
